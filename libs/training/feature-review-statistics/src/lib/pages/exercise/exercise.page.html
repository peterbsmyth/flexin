<bod-page-layout>
  <ng-container *ngIf="(exercise$ | async) as exercise">
    <h1>{{ exercise.name }}</h1>
  </ng-container>
  <h3>All Sets</h3>
  <table>
    <tr>
      <th>Id</th>
      <th>Set</th>
      <th>Reps</th>
      <th>Weight</th>
    </tr>
    <ng-container *ngFor="let setStatistic of (setStatistics$ | async)">
      <tr>
        <td>{{ setStatistic.id }}</td>
        <td>{{ setStatistic.set }}</td>
        <td>{{ setStatistic.reps }}</td>
        <td>{{ setStatistic.weight }}</td>
      </tr>
    </ng-container>
  </table>

  <ng-container *ngIf="(maxRepsOfAllTime$ | async) as maxReps">
    <h3>Most Reps of All Time: {{ maxReps }}</h3>
  </ng-container>
  <ng-container *ngIf="(bestSet$ | async) as bestSet">
    <h3>
      Most Reps at {{ bestSet.weight }} lbs, top weight: {{ bestSet.reps }}
    </h3>
  </ng-container>

  <h2>Reps from First Set, over Time</h2>
  <ngx-charts-line-chart
    [view]="chart.view"
    [scheme]="chart.colorScheme"
    [showXAxisLabel]="chart.showXAxisLabel"
    [showYAxisLabel]="chart.showYAxisLabel"
    [xAxis]="chart.xAxis"
    [yAxis]="chart.yAxis"
    [xAxisLabel]="chart.xAxisLabel"
    [yAxisLabel]="chart.yAxisLabel"
    [results]="chartData$ | async"
  ></ngx-charts-line-chart>
</bod-page-layout>
