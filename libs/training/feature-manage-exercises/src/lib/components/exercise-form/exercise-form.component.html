<mat-card>
  <mat-card-content>
    <form [formGroup]="form" class="form">
      <mat-form-field>
        <mat-label>
          Name
        </mat-label>
        <input matInput type="text" formControlName="name" />
      </mat-form-field>
      <div class="rows">
        <aside class="configuration">
          <h3>Configuration</h3>
          <mat-checkbox formControlName="push">Push</mat-checkbox>
          <mat-checkbox formControlName="pull">Pull</mat-checkbox>
          <mat-checkbox formControlName="leftRight">LeftRight</mat-checkbox>
        </aside>
        <aside formArrayName="intensities">
          <h3>Intensities</h3>
          <section
            *ngFor="let intensity of intensities.controls; let i = index"
          >
            <div class="intensities__controls" [formGroupName]="i">
              <!-- Reps? -->
              <mat-form-field class="intensities__input">
                <mat-label>
                  Intensity
                </mat-label>
                <input matInput type="text" formControlName="name" />
              </mat-form-field>
              <button mat-icon-button (click)="onRemoveIntensity(i)">
                <mat-icon>close</mat-icon>
              </button>
            </div>
          </section>
          <button mat-icon-button (click)="addIntensity()">
            Add Intensity
          </button>
        </aside>
      </div>
    </form>
  </mat-card-content>
  <mat-card-footer>
    <button mat-raised-button color="primary" (click)="onSubmit(form.value)">
      Save
    </button>
  </mat-card-footer>
</mat-card>
