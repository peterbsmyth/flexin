<ng-container>
  <div class="controls">
    <mat-form-field>
      <mat-label>Program</mat-label>
      <mat-select [formControl]="programSelect">
        <mat-option
          *ngFor="let program of programsState.allV2Programs$ | async"
          [value]="program.id"
        >
          {{ program.number }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Week</mat-label>
      <mat-select [formControl]="weekSelect">
        <mat-option
          *ngFor="let week of programsState.weeks$  | async;"
          [value]="week"
        >
          {{ week }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Day</mat-label>
      <mat-select [formControl]="daySelect">
        <mat-option
          *ngFor="let day of programsState.days$  | async;"
          [value]="day"
        >
          {{ day }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <bod-page-layout>
    <!-- src is set in .ts because youtube considers property binding a possible XSS attack -->
    <div class="container">
      <ng-container
        *ngIf="(programsState.selectedV2Programs$ | async) as program"
      >
        <bod-card *ngIf="program.playlist">
          <bod-card-header><span>Playlist</span></bod-card-header>
          <mat-card-content class="card__body">
            <iframe
              #player
              height="315"
              frameborder="0"
              allow="autoplay; encrypted-media"
              allowfullscreen
            ></iframe>
          </mat-card-content>
        </bod-card>
      </ng-container>
      <div class="cards">
        <ng-container
          *ngFor="let workout of programsState.daysWorkouts$ | async"
        >
          <training-workout-statistic-card
            [workout]="workout"
          ></training-workout-statistic-card>
        </ng-container>
      </div>
    </div>
  </bod-page-layout>
</ng-container>
